{% extends "base.html" %}

{% block body %}


<style type="text/css">
	#div-for-edit-student-form{
		width: 70%;
		margin: 6% auto;
	}
	#edit-student-form{
		background-color: #E5E1E0;
		width: 70%;
		margin: 1% auto;
		padding: 2%;
	}
</style>


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/css/bootstrap-multiselect.css" type="text/css"/>


<div id="div-for-edit-student-form">
	<form id="edit-student-form" class="form-horizontal" method="post">
	{% csrf_token %}
		<div class="form-group">
		<label class="control-label col-sm-3" for="dept">First Name:</label>
			<div class="col-sm-9">
			  {{form.first_name}}
			  {{form.first_name.errors}}
			</div>
		</div>
		<div class="form-group">
		<label class="control-label col-sm-3" for="dept">Last Name:</label>
			<div class="col-sm-9">
			  {{form.last_name}}
			  {{form.last_name.errors}}
			</div>
		</div>
		<div class="form-group">
		<label class="control-label col-sm-3" for="dept">Email:</label>
			<div class="col-sm-9">
			  {{form.email}}
			  {{form.email.errors}}
			  {% if err1 %}
			  <p style="color: red;">{{ err1 }}</p>
			  {% endif %}
			  {% if err2 %}
			  <p style="color: red;">{{ err2 }}</p>
			  {% endif %}
			</div>
		</div>
		<div class="form-group">
		<label class="control-label col-sm-3" for="dept">Department:</label>
			<div class="col-sm-9">
			  {{form.dept}}
			  {{form.dept.errors}}
			</div>
		</div>
		<div class="form-group">
		<label class="control-label col-sm-3" for="dept">Gender:</label>
			<div class="col-sm-9">
			  {{form.gender}}
			  {{form.gender.errors}}
			</div>
		</div>
		<div class="form-group"> 
		    <div class="col-sm-offset-3 col-sm-9">
		      <button type="submit" class="btn btn-primary">Submit</button>
		    </div>
	  </div>
	</form>
</div>


<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/js/bootstrap-multiselect.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#gender').multiselect({
        	buttonWidth: '100%',
        	maxHeight: 200,
        });
    });

    document.getElementById('first-name').value = '{{student.user.first_name}}';
    document.getElementById('last-name').value = '{{student.user.last_name}}';
    document.getElementById('email').value = '{{student.user.email}}';
    $("#dept option").filter(function() {
        return $(this).attr('value') == "{{student.dept.id}}";
    }).attr('selected', true);
    $("#gender option").filter(function() {
        return $(this).attr('value') == "{{student.gender}}";
    }).attr('selected', true);

</script>


{% endblock %}